# 汤仔高效办公助手

## 项目概述
这是一个智能体聚合平台，更名为"汤仔高效办公助手"，用户可以选择不同的AI智能体进行对话，管理员可以添加、编辑和管理智能体参数。

## 功能描述
1. **用户功能**
   - 选择不同的智能体进行对话
   - 实时对话界面，支持流式响应
   - 支持Markdown格式渲染，包括代码高亮
   - 一键复制AI回复内容
   - 保存对话历史
   - 切换不同的智能体

2. **管理员功能**
   - 添加新的智能体
   - 编辑现有智能体参数（API地址、模型选择、API密钥等）
   - 设置智能体提示词、温度、最大token等参数
   - 删除不需要的智能体

3. **显示设置**
   - 启用/禁用Markdown渲染
   - 启用/禁用代码高亮
   - 设置保存在本地，记住用户偏好

## 使用说明

### 用户模式
1. 打开网页后，从顶部下拉菜单中选择一个智能体
2. 在底部输入框中输入您的消息
3. 点击"发送"按钮或按回车键发送消息
4. 查看聊天窗口中的对话历史
5. 可点击AI回复右上角的"复制"按钮复制内容
6. 点击顶部设置按钮可以自定义显示选项
7. 随时可以从下拉菜单切换到其他智能体

### 管理员模式
1. 在页面右上角勾选"管理员模式"选项
2. 页面底部将显示管理面板
3. **添加新智能体**：
   - 点击"添加新智能体"按钮
   - 填写智能体名称、API地址、API密钥等信息
   - 设置模型、系统提示词、温度和最大token
   - 点击"保存"按钮
4. **编辑智能体**：
   - 在智能体列表中找到要编辑的智能体
   - 点击"编辑"按钮
   - 修改相关参数
   - 点击"保存"按钮
5. **删除智能体**：
   - 在智能体列表中找到要删除的智能体
   - 点击"删除"按钮
   - 确认删除操作

## 智能体参数说明
1. **智能体名称**：在选择器中显示的名称
2. **API地址**：大模型服务的API端点，如 https://aihubmix.com/v1/chat/completions
3. **API密钥**：访问API所需的密钥
4. **模型**：选择使用的大模型，如 gemini-2.0-flash, gpt-3.5-turbo 等
5. **系统提示词**：设置智能体的角色和行为指南
6. **温度**：控制回复的随机性（0-2），较低值使回复更确定，较高值使回复更多样化
7. **最大Tokens**：限制每次回复的最大长度

## 页面结构
1. **主页面**
   - 顶部导航栏：智能体选择、设置按钮、模式切换（用户/管理员）
   - 中间对话区域：显示历史消息、流式响应
   - 底部输入区域：消息输入框、发送按钮

2. **管理员页面**
   - 智能体列表：显示所有可用智能体
   - 智能体编辑表单：编辑智能体参数
   - 添加新智能体按钮

3. **设置面板**
   - Markdown渲染开关：控制是否显示格式化文本
   - 代码高亮开关：控制是否为代码添加语法高亮

## 技术实现
- 使用HTML5和CSS3实现页面布局和样式
- 使用JavaScript处理前端逻辑和API调用
- 使用localStorage存储智能体配置和用户偏好设置
- 使用marked.js进行Markdown解析
- 使用highlight.js实现代码高亮
- 支持流式响应，实现打字机效果
- 响应式设计，适应不同设备屏幕

## 数据存储
所有智能体配置都存储在浏览器的localStorage中，这意味着：
- 配置信息在浏览器关闭后仍然保留
- 不同设备或浏览器之间的配置不会共享
- 清除浏览器数据会导致配置丢失

## 安全说明
- API密钥存储在客户端，请确保在公共设备上使用后退出
- 建议使用有权限控制的API密钥
- 对话内容存储在内存中，页面刷新后将丢失

## 兼容性
- 支持所有现代浏览器（Chrome, Firefox, Safari, Edge）
- 要求浏览器支持ES6+和Fetch API 